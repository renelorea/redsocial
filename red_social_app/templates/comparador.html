<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Comparador DFS vs BFS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
    <link href="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
    <h2 class="mb-4">ğŸ” Comparador de Recorridos DFS vs BFS</h2>
    <form onsubmit="comparar(); return false;" class="mb-3 row g-3">
        <div class="col-md-4">
            <label class="form-label">Nodo de inicio:</label>
            <input id="origen" type="number" class="form-control" required>
        </div>
        <div class="col-md-2 align-self-end">
            <button type="submit" class="btn btn-primary">Comparar</button>
        </div>
    </form>

    <div class="row">
        <div class="col-md-6">
            <h5>ğŸ“˜ DFS</h5>
            <div id="dfs_grafo" style="height: 400px; background: #fff; border: 1px solid #ccc;"></div>
        </div>
        <div class="col-md-6">
            <h5>ğŸ“— BFS</h5>
            <div id="bfs_grafo" style="height: 400px; background: #fff; border: 1px solid #ccc;"></div>
        </div>
    </div>
</div>

<script>
    function renderGrafo(containerId, recorrido, nombres, color) {
        const nodes = new vis.DataSet(recorrido.map((n, i) => ({
            id: n,
            label: nombres[n] || ("ID " + n),
            color: i === 0 ? '#28a745' : color
        })));
    
        const edges = [];
        for (let i = 0; i < recorrido.length - 1; i++) {
            edges.push({ from: recorrido[i], to: recorrido[i + 1] });
        }
    
        const container = document.getElementById(containerId);
        new vis.Network(container, { nodes, edges }, {
            nodes: { shape: "dot", size: 20, font: { size: 14 } },
            edges: { arrows: "to", smooth: true },
            physics: false
        });
    }
    
    async function comparar() {
        const origen = document.getElementById("origen").value;
        const dfs = await fetch(`/dfs/${origen}`).then(res => res.json());
        const bfs = await fetch(`/bfs/${origen}`).then(res => res.json());
    
        renderGrafo("dfs_grafo", dfs.recorrido, dfs.nombres, "#17a2b8");
        renderGrafo("bfs_grafo", bfs.recorrido, bfs.nombres, "#ffc107");
    }
    
</script>
</body>
</html>
