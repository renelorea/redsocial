<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DFS Visual</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
    <link href="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
    <h3>üîç Recorrido DFS en Grafo</h3>
    <div class="mb-3">
        <label for="nodo" class="form-label">Nodo de inicio:</label>
        <input id="nodo" type="number" class="form-control" value="1">
        <button class="btn btn-primary mt-2" onclick="cargarDFS()">Ejecutar</button>
    </div>
    <div id="grafico" style="height: 500px; background: #fff; border: 1px solid #ccc;"></div>
</div>

<script>
async function cargarDFS() {
    const nodo = document.getElementById("nodo").value;
    const response = await fetch(`/dfs/${nodo}`);
    const data = await response.json();

    // Crear nodos y aristas seg√∫n recorrido
    const nombres = data.nombres;

    const nodes = new vis.DataSet(data.recorrido.map((n, i) => ({
        id: n,
        label: nombres[n] || ("ID " + n),
        color: i === 0 ? '#28a745' : '#17a2b8'
    })));

    
    const edges = [];
    for (let i = 0; i < data.recorrido.length - 1; i++) {
        edges.push({ from: data.recorrido[i], to: data.recorrido[i + 1] });
    }

    const container = document.getElementById("grafico");
    const network = new vis.Network(container, { nodes, edges }, {
        nodes: { shape: "dot", size: 20, font: { size: 14 } },
        edges: { arrows: "to", smooth: true },
        physics: { stabilization: false }
    });
}
</script>
</body>
</html>
